### 4.3.1. 고 가용성 `Enterprise Edition`
> 이 장에서는 Neo4j HA 클러스터의 아키텍처에 대해 설명합니다.

Neo4j 클러스터는 단일 마스터 인스턴스와 0 개 이상의 슬레이브 인스턴스로 구성됩니다. 클러스터의 모든 인스턴스는 로컬 데이터베이스 파일에 전체 데이터 복사본을 가지고 있습니다. 기본 클러스터 구성은 세 개의 인스턴스로 구성됩니다:

##### 그림 4.3.1. Neo4j 클러스터
![](./4.3.1.neo4j-cluster.png)

각 인스턴스에는 위의 그림에 녹색 화살표로 표시된 데이터 복제 및 선출 관리를 위한 클러스터의 다른 멤버들과의 조정에 필요한 논리가 포함되어 있습니다. 위 그림의 파란색 화살표로 표시된 것 처럼, arbiter 인스턴스(아래 참조)가 아닌 각 슬레이브 인스턴스는 마스터와 통신하여 데이터베이스를 최신 상태로 유지합니다.

#### 4.3.1.1. Arbiter 인스턴스
슬레이브 인스턴스의 특별 케이스가 arbiter 인스턴스입니다. arbiter 인스턴스는 arbiter 모드에서 실행되는 전체 Neo4j 소프트웨어로 구성되어 클러스터 통신에 참여하지만 데이터 저장소의 사본을 복제하지는 않습니다.

#### 4.3.1.2. 트랜잭션 전파
마스터에서 직접 수행 되는 쓰기 트랜잭션은 인스턴스가 클러스터 모드가 아닌 모드에서 실행 중인 것처럼 실행됩니다. 성공하면 트랜잭션은 구성 가능한 번호의 슬레이브로 푸시됩니다. 이것은 낙관주의적으로 이루어지는데, 만약 푸시가 실패하더라도 트랜잭션은 여전히 성공할 것이라는 것을 의미합니다.
