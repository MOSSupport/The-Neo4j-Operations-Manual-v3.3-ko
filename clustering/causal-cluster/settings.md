### 4.2.14. Causal 클러스터링 설정 참조 `Enterprise Edition`
> 이 장에서는 Neo4j Causal 클러스터 실행과 관련된 중요한 설정을 나열합니다.

#### 4.2.14.1. 공통 설정

| 매개 변수 이름 | 설명 |
|---------------|------|
| [`dbms.mode`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_dbms.mode) | 이 설정은 데이터베이스의 작동 모드를 구성합니다. Causal 클러스터링에는 두가지 모드가 있습니다: `CORE` 또는 `READ_REPLICA`.<br><br>예: `dbms.mode=READ_REPLICA`는 이 서버를 Read Replica로 정의합니다.|
|[`causal_clustering.minimum_core_cluster_size_at_formation`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.minimum_core_cluster_size_at_formation)|초기 클러스터 형성시 기대되는 클러스터 크기. 안전한 클러스터를 형성하기 위한 최소 인스턴스 수는 2개이지만, 최소한의 작동 내결함성을 허용하기 위해 기본적으로 3개로 설정되어 있어 한 인스턴스가 손실되더라도 클러스터가 작동할 수 있습니다.<br><br>예: `causal_clustering.minimum_core_cluster_size_at_formation=3`은 클러스터가 세 개의 코어 멤버로 시작하도록 지정합니다.(세 개 중 두 개의 클러스터가 형성될 때 시작하는 것이 안전할 것입니다).|
|[`causal_clustering.minimum_core_cluster_size_at_runtime`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.minimum_core_cluster_size_at_runtime)|런타임시 최소 코어 클러스터 크기. 내결함성 클러스터를 유지하기 위한 최소 인스턴스 수는 2개이지만 정상적인 가동 특성을 위해 기본값은 3개입니다.<br><br>예: `causal_clustering.minimum_core_cluster_size_at_runtime=3`은 클러스터가 투표 세트에서 코어 멤버 수를 3개 아래로 떨어뜨리지 않아야 한다는 것을 지정합니다.(단지 두 인스턴스의 과반수가 클러스터를 계속 실행하도록 허용).|
|[`causal_clustering.discovery_type`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.discovery_type)|Causal 클러스터링 인스턴스는 네트워크를 통해 통신하여 데이터베이스의 일관성을 보장합니다. 클러스터의 각 멤버에는 클러스터에 있어야 하는 다른 멤버에 대한 부트 스트랩 정보가 제공되어야 합니다. 이 설정은 클러스터에서 인스턴스가 부트 스트랩을 위해 연결할 다른 인스턴스의 주소를 결정하는 데 사용할 전략을 지정합니다. 이 설정의 값은 `causal_clustering.initial_discovery_members`가 해석되는 방법을 결정합니다. 옵션은 `LIST`, `DNS` 및 `SRV`입니다. <br><br>`LIST`<br>`causal_clustering.initial_discovery_members`를 발견을 위해 연락할 코어 서버의 주소 목록으로 처리합니다. <br>`DNS`<br>`causal_clustering.initial_discovery_members`를 DNS를 통해 확인할 도메인 이름으로 처리합니다. `causal_clustering.initial_discovery_members`에 의해 지정된 포트에서 발견을 위해 연락할 코어의 호스트명 또는 IP 주소가 있는 A 레코드를 제공하는 DNS 확인을 예상합니다.<br>`SRV`<br>`causal_clustering.initial_discovery_members`를 DNS를 통해 확인할 도메인 이름으로 처리합니다. 발견을 위해 연락할 코어의 호스트명이나 IP 주소 및 포트가 있는 SRV 레코드를 제공하는 DNS 확인을 예상합니다.<br><br>발견 및 발견 구성 옵션에 대한 자세한 정보는 [클러스터 멤버의 초기 발견](./create-a-new-causal-cluster.md#4236-클러스터-멤버의-초기-발견) 장에 나와 있습니다.<br><br>예: `causal_clustering.initial_discovery_members=neo20.example.com:5000`과 결합된 `causal_clustering.discovery_type=DNS`는 neo20.example.com에 대한 모든 DNS A 레코드를 가져오고 각 A 레코드의 IP 주소에 대해 5000번 포트에서 수신하는 Neo4j 인스턴스에 도달하려고 시도할 것입니다.|
|[`causal_clustering.initial_discovery_members`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.initial_discovery_members)| Causal 클러스터링 인스턴스는 데이터베이스의 일관성을 보장하기 위해 네트워크를 통해 통신합니다. 인스턴스는 이러한 초기 발견 멤버에게 연락하여 클러스터의 멤버로 등록하고 클러스터의 다른 멤버에 대한 연락처 정보(보급된 주소)를 요청합니다. 인스턴스의 고유 주소 지정은 허용됩니다. 다른 모든 클러스터 멤버에 대해 주소를 지정할 필요는 없습니다. 그러나 클러스터를 위해 구성된 초기 발견 멤버가 둘 이상의 연결이 끊긴 집합을 형성하면 클러스터는 올바르게 형성되지 않습니다. 이 구성 옵션에서 공백을 사용하지 마십시오.<br><br>발견 및 발견 구성 옵션에 대한 자세한 정보는 [클러스터 멤버의 초기 발견](./create-a-new-causal-cluster.md#4236-클러스터-멤버의-초기-발견) 장에 나와 있습니다.<br><br>예: `causal_clustering.initial_discovery_members=neo22:5001,neo21:5001,neo20:5001 `와 결합된 `causal_clustering.discovery_type=LIST`는 5001번 포트에서 *neo22*를, 5001번 포트에서 *neo21*을, 또한 5001번 포트에서 *neo20*을 수신하는 Neo4j 인스턴스에 도달하려고 시도할 것입니다.|
|[`causal_clustering.raft_advertised_address`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.raft_advertised_address)|Neo4j 인스턴스가 코어 클러스터 내에서 Raft 메시지를 수신할 클러스터의 다른 멤버들에게 알리는 위치를 지정하는 주소/포트 설정.<br><br>예: `causal_clustering.raft_advertised_address=192.168.33.20:7000`는 포트 7000의 192.168.33.20에 바인딩 된 네트워크 인터페이스에서 클러스터 통신을 위해 수신 대기할 것입니다.|
|[`causal_clustering.transaction_advertised_address`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.transaction_advertised_address)|인스턴스가 transaction-shipping catchup 프로토콜에서 트랜잭션에 대한 요청을 수신할 위치를 알리는 주소를 지정하는 주소/포트 설정.<br><br>예: `causal_clustering.transaction_advertised_address=192.168.33.20:6001`은 포트 6001의 192.168.33.20에 바인딩 된 네트워크 인터페이스에서 클러스터 멤버의 트랜잭션을 수신합니다.|
|[`causal_clustering.discovery_listen_address`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.discovery_listen_address)|discovery 프로토콜에서 사용할 주소/포트 설정. 이는 클러스터의 다른 멤버들의 구성에 설정되는 `causal_clustering.initial_discovery_members` 설정 안에 포함될 설정입니다.<br><br>예: `causal_clustering.discovery_listen_address=0.0.0.0:5001`은 포트 5001의 모든 네트워크 인터페이스에서 클러스터 멤버십 통신을 수신합니다.|
|[`causal_clustering.raft_listen_address`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.raft_listen_address)|Neo4j 인스턴스가 클러스터 통신을 위해 바인딩 할 네트워크 인터페이스와 포트를 지정하는 주소/포트 설정. 이 설정은 `causal_clustering.raft_advertised_address`설정에서 수신 대기하는 이 인스턴스에서 알린 주소에 맞춰 설정되어야 합니다.<br><br>예: `causal_clustering.raft_listen_address=0.0.0.0:7000`은 포트 7000의 모든 네트워크 인터페이스에서 클러스터 통신을 수신합니다.|
|[`causal_clustering.transaction_listen_address`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.transaction_listen_address)|Neo4j 인스턴스가 클러스터 통신을 위해 바인딩 할 네트워크 인터페이스와 포트를 지정하는 주소/포트 설정. 이 설정은 `causal_clustering.transaction_advertised_address`설정에서 수신 대기하는 이 인스턴스에서 알린 주소에 맞춰 설정되어야 합니다.<br><br>예: `causal_clustering.transaction_listen_address=0.0.0.0:6001`은 포트 7000의 모든 네트워크 인터페이스에서 클러스터 통신을 수신합니다.|
|[`causal_clustering.refuse_to_be_leader`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.refuse_to_be_leader)|`true`로 설정된 경우, 현재 인스턴스가 Raft 리더가 되는 것을 방지합니다. 기본값은 `false`이며, 예외적인 상황에서만 전문가 사용자가 사용하거나, Neo4j Professional Services가 권고한 경우에만 사용해야 합니다.<br><br>예: `causal_clustering.refuse_to_be_leader=false`|
|[`causal_clustering.cluster_allow_reads_on_followers`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.cluster_allow_reads_on_followers)|일반 이기종의 설정에서 읽기 전용 쿼리에 대해 팔로워를 사용할 수 있도록 기본값은 `true`입니다. 참고: 클러스터에 read replica가 없으면, 팔로워는 이 설정의 값에 관계없이 읽기를 위해 사용 가능하게 됩니다.<br><br>예: `causal_clustering.cluster_allow_reads_on_followers=true`|
|[`causal_clustering.store_copy_max_retry_time_per_request`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.store_copy_max_retry_time_per_request)|저장소 복사가 결국 실패하는 조건. 구성된 시간이 충족되지 않는 한 요청을 다시 시도할 수 있습니다. 매우 큰 저장소나 파일 전송 속도를 늦출 수 있는 다른 이유로 인해 이것이 증가할 수 있습니다.<br><br>예: `causal_clustering.store_copy_max_retry_time_per_request=60min`|

#### 4.2.14.2. 다중 데이터 센터 설정

| 매개 변수 이름 | 설명 |
|---------------|------|
|[`causal_clustering.multi_dc_license`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.multi_dc_license)|
다중 데이터 센터 기능을 활성화합니다. 적절한 라이센스가 필요합니다.<br><br>예: `causal_clustering.multi_dc_license=true`는 다중 데이터 센터 기능을 활성화합니다.|
|[`causal_clustering.server_groups`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.server_groups)|로드 밸런싱 및 복제 정책을 구성할 때 사용되는 서버의 그룹 이름 목록.<br><br>예: `causal_clustering.server_groups=us,us-east`는 `us`와 `us-east` 그룹에 현재 인스턴스를 추가할 것입니다.|
|[`causal_clustering.upstream_selection_strategy`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.upstream_selection_strategy)|트랜잭션 업데이트를 가져올 업스트림 데이터베이스 서버를 선택하기 위해 read replica가 사용하는 전략의 내림차순 우선순위 목록입니다.<br><br>예: `causal_clustering.upstream_selection_strategy=connect-randomly-within-server-group,typically-connect-to-random-read-replica`는 Read Replica가 `causal_clustering.server_groups`에 지정된 그룹의 다른 인스턴스에 먼저 연결을 시도하도록 동작을 구성합니다. 해당 그룹에서 라이브 인스턴스를 찾지 못하면 임의의 Read Replica에 연결합니다. `user_defined`의 값은 `causal_clustering.user_defined_upstream_strategy` 설정을 사용하여 사용자 지정 전략 정의를 활성화합니다.|
|[`causal_clustering.user_defined_upstream_strategy`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.user_defined_upstream_strategy)|업스트림 종속성의 구성을 정의. `causal_clustering.upstream_selection_strategy`가 `user_defined`로 설정된 경우에만 사용할 수 있습니다.<br><br>예: `causal_clustering.user_defined_upstream_strategy=groups(north2); groups(north); halt()`는 `north2`에 있는 서버를 검색합니다. 만약 사용할 수 있는 서버가 없는 경우, `north`서버 그룹을 검색할 것입니다. 마지막으로, 이전 그룹의 어디에서도 서버를 확인할 수 없는 경우 `halt()`를 통해 규칙 체인이 중지됩니다.|
|[`causal_clustering.load_balancing.plugin`](https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.load_balancing.plugin)|사용할 로드 밸런싱 플러그인. `server_policies`라는 하나의 사전 정의된 플러그인을 기본적으로 사용할 수 있습니다.<br><br>예: `causal_clustering.load_balancing.plugin=server_policies`는 사용자 지정 정책 정의를 활성화합니다.|
|`causal_clustering.load_balancing.config.server_policies.<policy-name>`|<policy-name> 이름으로 사용자 지정 정책을 정의. 로드 밸런싱 정책은 클러스터 전역 구성이므로 모든 코어 시스템에서 정확히 동일한 방법으로 정의되어야 합니다.<br><br>예: `causal_clustering.load_balancing.config.server_policies.north1_only=groups(north1)→min(2); halt();`은 `north1_only`라는 이름의 로드 밸런싱 정책을 정의합니다. 사용 가능한 서버가 두개 있다면 쿼리는 오직 `north1`서버 그룹에 있는 서버로 전송됩니다. `north1`에 서버가 두개 미만이라면 체인이 중지됩니다.|
